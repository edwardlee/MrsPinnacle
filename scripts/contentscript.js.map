{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/contentscript.js","src/scripts/utils/ext.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import ext from \"./utils/ext\";\n\nvar extractTags = () => {\n  var url = document.location.href;\n  if(!url || !url.match(/^http/)) return;\n\n  var data = {\n    title: \"\",\n    description: \"\",\n    url: document.location.href\n  }\n\n  var ogTitle = document.querySelector(\"meta[property='og:title']\");\n  if(ogTitle) {\n    data.title = ogTitle.getAttribute(\"content\")\n  } else {\n    data.title = document.title\n  }\n\n  var descriptionTag = document.querySelector(\"meta[property='og:description']\") || document.querySelector(\"meta[name='description']\")\n  if(descriptionTag) {\n    data.description = descriptionTag.getAttribute(\"content\")\n  }\n\n  return data;\n}\n\nfunction onRequest(request, sender, sendResponse) {\n  if (request.action === 'process-page') {\n    sendResponse(extractTags())\n  }\n}\n\next.runtime.onMessage.addListener(onRequest);","const apis = [\n  'alarms',\n  'bookmarks',\n  'browserAction',\n  'commands',\n  'contextMenus',\n  'cookies',\n  'downloads',\n  'events',\n  'extension',\n  'extensionTypes',\n  'history',\n  'i18n',\n  'idle',\n  'notifications',\n  'pageAction',\n  'runtime',\n  'storage',\n  'tabs',\n  'webNavigation',\n  'webRequest',\n  'windows',\n]\n\nfunction Extension () {\n  const _this = this\n\n  apis.forEach(function (api) {\n\n    _this[api] = null\n\n    try {\n      if (chrome[api]) {\n        _this[api] = chrome[api]\n      }\n    } catch (e) {}\n\n    try {\n      if (window[api]) {\n        _this[api] = window[api]\n      }\n    } catch (e) {}\n\n    try {\n      if (browser[api]) {\n        _this[api] = browser[api]\n      }\n    } catch (e) {}\n    try {\n      _this.api = browser.extension[api]\n    } catch (e) {}\n  })\n\n  try {\n    if (browser && browser.runtime) {\n      this.runtime = browser.runtime\n    }\n  } catch (e) {}\n\n  try {\n    if (browser && browser.browserAction) {\n      this.browserAction = browser.browserAction\n    }\n  } catch (e) {}\n\n}\n\nmodule.exports = new Extension();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb250ZW50c2NyaXB0LmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvZXh0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUVBLElBQUksV0FBVyxHQUFHLFNBQWQsV0FBYyxHQUFNO0FBQ3RCLE1BQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxRQUFULENBQWtCLElBQTVCO0FBQ0EsTUFBRyxDQUFDLEdBQUQsSUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFKLENBQVUsT0FBVixDQUFaLEVBQWdDO0FBRWhDLE1BQUksSUFBSSxHQUFHO0FBQ1QsSUFBQSxLQUFLLEVBQUUsRUFERTtBQUVULElBQUEsV0FBVyxFQUFFLEVBRko7QUFHVCxJQUFBLEdBQUcsRUFBRSxRQUFRLENBQUMsUUFBVCxDQUFrQjtBQUhkLEdBQVg7QUFNQSxNQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QiwyQkFBdkIsQ0FBZDs7QUFDQSxNQUFHLE9BQUgsRUFBWTtBQUNWLElBQUEsSUFBSSxDQUFDLEtBQUwsR0FBYSxPQUFPLENBQUMsWUFBUixDQUFxQixTQUFyQixDQUFiO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsSUFBQSxJQUFJLENBQUMsS0FBTCxHQUFhLFFBQVEsQ0FBQyxLQUF0QjtBQUNEOztBQUVELE1BQUksY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGlDQUF2QixLQUE2RCxRQUFRLENBQUMsYUFBVCxDQUF1QiwwQkFBdkIsQ0FBbEY7O0FBQ0EsTUFBRyxjQUFILEVBQW1CO0FBQ2pCLElBQUEsSUFBSSxDQUFDLFdBQUwsR0FBbUIsY0FBYyxDQUFDLFlBQWYsQ0FBNEIsU0FBNUIsQ0FBbkI7QUFDRDs7QUFFRCxTQUFPLElBQVA7QUFDRCxDQXZCRDs7QUF5QkEsU0FBUyxTQUFULENBQW1CLE9BQW5CLEVBQTRCLE1BQTVCLEVBQW9DLFlBQXBDLEVBQWtEO0FBQ2hELE1BQUksT0FBTyxDQUFDLE1BQVIsS0FBbUIsY0FBdkIsRUFBdUM7QUFDckMsSUFBQSxZQUFZLENBQUMsV0FBVyxFQUFaLENBQVo7QUFDRDtBQUNGOztBQUVELGdCQUFJLE9BQUosQ0FBWSxTQUFaLENBQXNCLFdBQXRCLENBQWtDLFNBQWxDOzs7OztBQ2pDQSxJQUFNLElBQUksR0FBRyxDQUNYLFFBRFcsRUFFWCxXQUZXLEVBR1gsZUFIVyxFQUlYLFVBSlcsRUFLWCxjQUxXLEVBTVgsU0FOVyxFQU9YLFdBUFcsRUFRWCxRQVJXLEVBU1gsV0FUVyxFQVVYLGdCQVZXLEVBV1gsU0FYVyxFQVlYLE1BWlcsRUFhWCxNQWJXLEVBY1gsZUFkVyxFQWVYLFlBZlcsRUFnQlgsU0FoQlcsRUFpQlgsU0FqQlcsRUFrQlgsTUFsQlcsRUFtQlgsZUFuQlcsRUFvQlgsWUFwQlcsRUFxQlgsU0FyQlcsQ0FBYjs7QUF3QkEsU0FBUyxTQUFULEdBQXNCO0FBQ3BCLE1BQU0sS0FBSyxHQUFHLElBQWQ7O0FBRUEsRUFBQSxJQUFJLENBQUMsT0FBTCxDQUFhLFVBQVUsR0FBVixFQUFlO0FBRTFCLElBQUEsS0FBSyxDQUFDLEdBQUQsQ0FBTCxHQUFhLElBQWI7O0FBRUEsUUFBSTtBQUNGLFVBQUksTUFBTSxDQUFDLEdBQUQsQ0FBVixFQUFpQjtBQUNmLFFBQUEsS0FBSyxDQUFDLEdBQUQsQ0FBTCxHQUFhLE1BQU0sQ0FBQyxHQUFELENBQW5CO0FBQ0Q7QUFDRixLQUpELENBSUUsT0FBTyxDQUFQLEVBQVUsQ0FBRTs7QUFFZCxRQUFJO0FBQ0YsVUFBSSxNQUFNLENBQUMsR0FBRCxDQUFWLEVBQWlCO0FBQ2YsUUFBQSxLQUFLLENBQUMsR0FBRCxDQUFMLEdBQWEsTUFBTSxDQUFDLEdBQUQsQ0FBbkI7QUFDRDtBQUNGLEtBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFOztBQUVkLFFBQUk7QUFDRixVQUFJLE9BQU8sQ0FBQyxHQUFELENBQVgsRUFBa0I7QUFDaEIsUUFBQSxLQUFLLENBQUMsR0FBRCxDQUFMLEdBQWEsT0FBTyxDQUFDLEdBQUQsQ0FBcEI7QUFDRDtBQUNGLEtBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFOztBQUNkLFFBQUk7QUFDRixNQUFBLEtBQUssQ0FBQyxHQUFOLEdBQVksT0FBTyxDQUFDLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBWjtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVSxDQUFFO0FBQ2YsR0F4QkQ7O0FBMEJBLE1BQUk7QUFDRixRQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBdkIsRUFBZ0M7QUFDOUIsV0FBSyxPQUFMLEdBQWUsT0FBTyxDQUFDLE9BQXZCO0FBQ0Q7QUFDRixHQUpELENBSUUsT0FBTyxDQUFQLEVBQVUsQ0FBRTs7QUFFZCxNQUFJO0FBQ0YsUUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLGFBQXZCLEVBQXNDO0FBQ3BDLFdBQUssYUFBTCxHQUFxQixPQUFPLENBQUMsYUFBN0I7QUFDRDtBQUNGLEdBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFO0FBRWY7O0FBRUQsTUFBTSxDQUFDLE9BQVAsR0FBaUIsSUFBSSxTQUFKLEVBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IGV4dCBmcm9tIFwiLi91dGlscy9leHRcIjtcblxudmFyIGV4dHJhY3RUYWdzID0gKCkgPT4ge1xuICB2YXIgdXJsID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgaWYoIXVybCB8fCAhdXJsLm1hdGNoKC9eaHR0cC8pKSByZXR1cm47XG5cbiAgdmFyIGRhdGEgPSB7XG4gICAgdGl0bGU6IFwiXCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgdXJsOiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmXG4gIH1cblxuICB2YXIgb2dUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW3Byb3BlcnR5PSdvZzp0aXRsZSddXCIpO1xuICBpZihvZ1RpdGxlKSB7XG4gICAgZGF0YS50aXRsZSA9IG9nVGl0bGUuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKVxuICB9IGVsc2Uge1xuICAgIGRhdGEudGl0bGUgPSBkb2N1bWVudC50aXRsZVxuICB9XG5cbiAgdmFyIGRlc2NyaXB0aW9uVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbcHJvcGVydHk9J29nOmRlc2NyaXB0aW9uJ11cIikgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT0nZGVzY3JpcHRpb24nXVwiKVxuICBpZihkZXNjcmlwdGlvblRhZykge1xuICAgIGRhdGEuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblRhZy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpXG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gb25SZXF1ZXN0KHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gIGlmIChyZXF1ZXN0LmFjdGlvbiA9PT0gJ3Byb2Nlc3MtcGFnZScpIHtcbiAgICBzZW5kUmVzcG9uc2UoZXh0cmFjdFRhZ3MoKSlcbiAgfVxufVxuXG5leHQucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIob25SZXF1ZXN0KTsiLCJjb25zdCBhcGlzID0gW1xuICAnYWxhcm1zJyxcbiAgJ2Jvb2ttYXJrcycsXG4gICdicm93c2VyQWN0aW9uJyxcbiAgJ2NvbW1hbmRzJyxcbiAgJ2NvbnRleHRNZW51cycsXG4gICdjb29raWVzJyxcbiAgJ2Rvd25sb2FkcycsXG4gICdldmVudHMnLFxuICAnZXh0ZW5zaW9uJyxcbiAgJ2V4dGVuc2lvblR5cGVzJyxcbiAgJ2hpc3RvcnknLFxuICAnaTE4bicsXG4gICdpZGxlJyxcbiAgJ25vdGlmaWNhdGlvbnMnLFxuICAncGFnZUFjdGlvbicsXG4gICdydW50aW1lJyxcbiAgJ3N0b3JhZ2UnLFxuICAndGFicycsXG4gICd3ZWJOYXZpZ2F0aW9uJyxcbiAgJ3dlYlJlcXVlc3QnLFxuICAnd2luZG93cycsXG5dXG5cbmZ1bmN0aW9uIEV4dGVuc2lvbiAoKSB7XG4gIGNvbnN0IF90aGlzID0gdGhpc1xuXG4gIGFwaXMuZm9yRWFjaChmdW5jdGlvbiAoYXBpKSB7XG5cbiAgICBfdGhpc1thcGldID0gbnVsbFxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChjaHJvbWVbYXBpXSkge1xuICAgICAgICBfdGhpc1thcGldID0gY2hyb21lW2FwaV1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3dbYXBpXSkge1xuICAgICAgICBfdGhpc1thcGldID0gd2luZG93W2FwaV1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChicm93c2VyW2FwaV0pIHtcbiAgICAgICAgX3RoaXNbYXBpXSA9IGJyb3dzZXJbYXBpXVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIF90aGlzLmFwaSA9IGJyb3dzZXIuZXh0ZW5zaW9uW2FwaV1cbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KVxuXG4gIHRyeSB7XG4gICAgaWYgKGJyb3dzZXIgJiYgYnJvd3Nlci5ydW50aW1lKSB7XG4gICAgICB0aGlzLnJ1bnRpbWUgPSBicm93c2VyLnJ1bnRpbWVcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBpZiAoYnJvd3NlciAmJiBicm93c2VyLmJyb3dzZXJBY3Rpb24pIHtcbiAgICAgIHRoaXMuYnJvd3NlckFjdGlvbiA9IGJyb3dzZXIuYnJvd3NlckFjdGlvblxuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBFeHRlbnNpb24oKTsiXX0="}